<style>
#multistepform {
    overflow:auto;
    width:100%;
    height:100%;
}
#multistepform .bg {
    width:100%;
    height:100%;
    background: url(msform_overlay.png);
    position: absolute;
    z-index:-5;
}
#multistepform .close {
    background-image: url(msform_sprite.png);
    position: absolute;
    top: 10px;
    right: 10px;
    width: 36px;
    height: 36px;
    cursor: pointer;
    z-index: 10000;
}
#multistepform-container {
	max-width: 800px;
    top:50px;
	margin: 0px auto;
	text-align: center;
	position: relative;
}
#multistepform-container .form {
	background: white;
	border: 0 none;
	border-radius: 8px;
	box-shadow: 0 0 15px 1px rgba(0, 0, 0, 0.4);
	padding: 20px 30px;
	
    width: 90%;
    margin: 0 5%;
	box-sizing: border-box;
	position: absolute;
    background: #fff url(footer-bg.png)  0px 100% repeat-x;
}
#multistepform-container .form:not(:first-of-type) {
	display: none;
}
.fs-title {
	font-size: 15px;
	text-transform: uppercase;
	color: #2C3E50;
	margin-bottom: 10px;
}
.fs-subtitle {
	font-weight: normal;
	font-size: 13px;
	color: #666;
	margin-bottom: 20px;
}
#multistepform-progressbar {
	margin-bottom: 10px;
	overflow: hidden;
	counter-reset: step;
    text-align:center;
}
#multistepform-progressbar li {
	list-style-type: none;
	color: white;
	text-transform: uppercase;
	font-size: 11px;
    padding: 0 15px;
	display:inline-block;
	position: relative;
    margin: 0 !important;
    padding-bottom: 15px;
}
#multistepform-progressbar li:before {
    content: counter(step);
    counter-increment: step;
    width: 24px;
    display: block;
    font-size: 12px;
    color: #333;
    background: white;
    border-radius: 12px;
    margin: 0 auto 5px auto;
    line-height: 24px;
}
#multistepform-progressbar li.active:before,  #multistepform-progressbar li.active:after{
	background: #27AE60;
	color: white;
}

#multistepform input, #multistepform textarea {
	padding: 15px;
	border: 1px solid #ccc;
	border-radius: 3px;
	margin-bottom: 10px;
	width: 100%;
	box-sizing: border-box;
	font-family: montserrat;
	color: #2C3E50;
	font-size: 13px;
}
/*buttons*/
#multistepform .button {
	width: 100px;
	background: #27AE60;
	font-weight: bold;
	color: white;
	border: 0 none;
	border-radius: 1px;
	cursor: pointer;
	padding: 10px 5px;
	margin: 10px 5px;
}
#multistepform .button:hover, #msform .button:focus {
	box-shadow: 0 0 0 2px white, 0 0 0 3px #27AE60;
}


</style>

<script>
(function($) {
    var FORM = $.multistepform = function() {
        FORM.init.apply( this, arguments );
    };
    $.extend(FORM, {
        current_fs: false, 
        next_fs: false, 
        previous_fs: false,
        animating: false,

        defaults: {
            container:'',
            duration: 1000,
            form_url: '',
            form_method: 'POST',
            onClose:function(){},
        },
        init: function(opts) {
            FORM.opts = $.extend(true, {}, FORM.defaults, opts);
            if(FORM.opts['form_url']) {
                var cont = $('<div id="'+FORM.opts['container']+'" class="multistepform" style="display:none; position: absolute; top:0; width: 100%; height: 100%; z-index: 9999;"></div>');
                $('body').append(cont);
                cont.html('<div id="multistepform"><div class="bg"></div><div class="close"></div><div id="multistepform-container"></div></div>');
                $.get(FORM.opts['form_url'], function( data ) {
                    $('#multistepform-container').html(data);
                    FORM._show();
                });
            } else {
                var cont = $('#'+FORM.opts['container']).addClass('multistepform').css({
                    'display':'none', 
                    'position': 'absolute',
                    'top':0,
                    'width': '100%',
                    'height': '100%',
                    'z-index': 9999
                });
                var data = cont.html();
                cont.html('<div id="multistepform"><div class="bg"></div><div class="close"></div><div id="multistepform-container">'+data+'</div></div>');
                FORM._show();
            }        
        },
        _show: function() {
            FORM.current_fs = $($('#'+FORM.opts['container']).find('.form')[0]);
            $('#'+FORM.opts['container']+' .next').click(FORM.next);
            $('#'+FORM.opts['container']+' .previous').click(FORM.prev);
            $('#'+FORM.opts['container']+' .close').click(FORM.close);
            $('#'+FORM.opts['container']).show();
            $('body').css({'overflow':'hidden'});
        },
        _next: function() {
            FORM.next_fs = FORM.current_fs.next();
	
            //activate next step on progressbar using the index of next_fs
            $("#multistepform-progressbar li").eq($(".form").index(FORM.next_fs)).addClass("active");

            //show the next fieldset
            FORM.next_fs.show(); 
            //hide the current fieldset with style
            FORM.current_fs.animate({opacity: 0}, {
                step: function(now, mx) {
	                //as the opacity of current_fs reduces to 0 - stored in "now"
	                //1. scale current_fs down to 80%
	                scale = 1 - (1 - now) * 0.2;
	                //2. bring next_fs from the right(50%)
	                left = (now * 50)+"%";
	                //3. increase opacity of next_fs to 1 as it moves in
	                opacity = 1 - now;
	                FORM.current_fs.css({'transform': 'scale('+scale+')'});
	                FORM.next_fs.css({'left': left, 'opacity': opacity});
                }, 
                duration: FORM.opts['duration'], 
                complete: function(){
                    if(!FORM.next_fs[0]) {
                        FORM._close();
                    }
	                FORM.current_fs.hide();
                    FORM.current_fs = FORM.next_fs;
	                FORM.animating = false;

                    var curent_forms = FORM.current_fs.find('form');
                    for(var i=0;i<curent_forms.length;i++) {
                        (function(f){
                            $(f).find('.submit').click(function(e){
                                var form = f;
                                var form_data = $(form).serialize();
                                var url = $(form).attr('action');
                                $.ajax({
                                    type: FORM.opts['container'],
                                    url: url,
                                    data: form_data
                                });
                                e.preventDefault();
                            });
                        })(curent_forms[i]);
                    }
                }, 
                //this comes from the custom easing plugin
                easing: 'easeInOutBack'
            });
        },
        _close: function() {
            $('#'+FORM.opts['container']).hide();
            $('body').css({'overflow':'auto'});
        },
        close: function() {
            FORM.opts['onClose']();
            FORM._close();
        },
        next: function(){
	        if(FORM.animating) return false;
	        FORM.animating = true;
	
            var form = $(FORM.current_fs).children('form');
            if(form.length) {       
                var form_data = $(form[0]).serialize();
                $.ajax({
                    type: FORM.opts['form_method'],
                    url:$(form[0]).attr('action'),
                    data: form_data,
                    success: function(){
	                    FORM._next();
                    }
                });
            } else {
                FORM._next();
            }
        },
        prev: function() {
            if(FORM.animating) return false;
	        FORM.animating = true;
	
	        FORM.previous_fs = FORM.current_fs.prev();
	
	        //de-activate current step on progressbar
	        $("#multistepform-progressbar li").eq($(".form").index(FORM.current_fs)).removeClass("active");
	
	        FORM.previous_fs.show(); 
	        FORM.current_fs.animate({opacity: 0}, {
		        step: function(now, mx) {
			        //as the opacity of current_fs reduces to 0 - stored in "now"
			        //1. scale previous_fs from 80% to 100%
			        scale = 0.8 + (1 - now) * 0.2;
			        //2. take current_fs to the right(50%) - from 0%
			        left = ((1-now) * 50)+"%";
			        //3. increase opacity of previous_fs to 1 as it moves in
			        opacity = 1 - now;
			        FORM.current_fs.css({'left': left});
			        FORM.previous_fs.css({'transform': 'scale('+scale+')', 'opacity': opacity});
		        }, 
		        duration: FORM.opts['duration'], 
		        complete: function(){
			        FORM.current_fs.hide();
                    FORM.current_fs = FORM.previous_fs;
			        FORM.animating = false;
		        }, 
		        easing: 'easeInOutBack'
	        });
        }
    });
})(jQuery);
	
</script>
<section id="download" class="download bg-primary text-center">

	
	<div id="multistepform-example-container">
<div class="form">
<form action="">
<h2 class="fs-title">Create your account</h2>
<h3 class="fs-subtitle">This is step 1</h3>
<input type="text" name="email" placeholder="Email">
<input type="password" name="pass" placeholder="Password">
<input type="password" name="cpass" placeholder="Confirm Password">
<input type="button" name="next" class="next button" value="Next">
</form>
</div>
<div class="form">
<form action="">
<h2 class="fs-title">Social Profiles</h2>
<h3 class="fs-subtitle">Your presence on the social network</h3>
<input type="text" name="twitter" placeholder="Twitter">
<input type="text" name="facebook" placeholder="Facebook">
<input type="text" name="gplus" placeholder="Google Plus">
<input type="button" name="previous" class="previous button" value="Previous">
<input type="button" name="next" class="next button" value="Next">
</form>
</div>
<div class="form">
<form action="">
<h2 class="fs-title">Personal Details</h2>
<h3 class="fs-subtitle">We will never sell it</h3>
<input type="text" name="fname" placeholder="First Name">
<input type="text" name="lname" placeholder="Last Name">
<input type="text" name="phone" placeholder="Phone">
<textarea name="address" placeholder="Address"></textarea>
<input type="button" name="previous" class="previous button" value="Previous">
<input type="button" name="submit" class="next button" value="Finish">
</form>
</div>
</div>
</section>
